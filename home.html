<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ... existing head content ... -->
  
  <style>
    /* ... existing styles ... */
    
    /* Enhanced Dark Mode Toggle */
    .dark-mode-toggle {
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--dark);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid rgba(255, 255, 255, 0.1);
    }
    
    .dark-mode-toggle:hover {
      transform: scale(1.1) rotate(12deg);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    }
    
    .dark-mode-toggle::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }
    
    .dark-mode-toggle:hover::before {
      opacity: 0.1;
    }
    
    .dark-mode-toggle i {
      font-size: 1.4rem;
      transition: transform 0.5s ease, opacity 0.3s ease;
    }
    
    .dark-mode-toggle .fa-sun {
      position: absolute;
      transform: scale(0) rotate(90deg);
      opacity: 0;
    }
    
    .dark-mode-toggle .fa-moon {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
    
    /* Dark mode styles */
    .dark-mode {
      --dark: #f8fafc;
      --light: #1e293b;
      --bg-color: #0f172a;
      --card-bg: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --border-color: rgba(255, 255, 255, 0.1);
      background: var(--bg-color);
      color: var(--text-primary);
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    
    .dark-mode .dark-mode-toggle {
      background: var(--light);
      color: var(--dark);
      box-shadow: 0 5px 25px rgba(255, 255, 255, 0.1);
    }
    
    .dark-mode .dark-mode-toggle .fa-sun {
      transform: scale(1) rotate(360deg);
      opacity: 1;
    }
    
    .dark-mode .dark-mode-toggle .fa-moon {
      transform: scale(0) rotate(-90deg);
      opacity: 0;
    }
    
    .dark-mode .nav-container {
      background: rgba(15, 23, 42, 0.95);
      border-bottom: 1px solid var(--border-color);
    }
    
    .dark-mode .nav-link {
      color: var(--text-secondary);
    }
    
    .dark-mode .nav-link:hover,
    .dark-mode .nav-link.active {
      color: var(--primary-light);
    }
    
    .dark-mode .skill-card-front {
      background: var(--card-bg);
      color: var(--text-primary);
      border-color: var(--border-color);
    }
    
    .dark-mode .hobby-card {
      background: var(--card-bg);
      color: var(--text-primary);
      border-color: var(--border-color);
    }
    
    .dark-mode .hobby-description {
      color: var(--text-secondary);
    }
    
    .dark-mode .testimonial-content {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    
    .dark-mode .hobbies-header {
      background: linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%);
    }
    
    .dark-mode .quote-box {
      background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
    }
    
    .dark-mode .btn-outline {
      border-color: var(--primary);
      color: var(--primary);
    }
    
    .dark-mode .btn-outline:hover {
      background: var(--primary);
      color: white;
    }
    
    /* System preference notice */
    .theme-notice {
      position: fixed;
      bottom: 170px;
      right: 30px;
      background: white;
      color: var(--dark);
      padding: 12px 16px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      font-size: 0.85rem;
      max-width: 250px;
      z-index: 998;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
      pointer-events: none;
    }
    
    .dark-mode .theme-notice {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
    }
    
    .theme-notice.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Reduced motion for accessibility */
    @media (prefers-reduced-motion: reduce) {
      .dark-mode-toggle,
      .dark-mode-toggle i,
      .dark-mode {
        transition: none;
      }
    }
  </style>
</head>
<body class="font-poppins">
  <!-- ... existing body content ... -->
  
  <!-- Dark Mode Toggle - Enhanced -->
  <div class="dark-mode-toggle" id="dark-mode-toggle" aria-label="Toggle dark mode">
    <i class="fas fa-moon"></i>
    <i class="fas fa-sun"></i>
  </div>
  
  <!-- Theme change notice -->
  <div class="theme-notice" id="theme-notice"></div>

  <!-- ... rest of your HTML ... -->

  <script>
    // Enhanced Dark Mode Toggle Functionality
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    const themeNotice = document.getElementById('theme-notice');
    let manualOverride = false;

    // Check for saved theme preference or system preference
    function initTheme() {
      const savedTheme = localStorage.getItem('theme');
      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
        document.body.classList.add('dark-mode');
        showNotice('Dark mode enabled');
      } else {
        document.body.classList.remove('dark-mode');
      }
      
      // Listen for system theme changes (unless user has manually overridden)
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        if (!manualOverride) {
          if (e.matches) {
            document.body.classList.add('dark-mode');
            showNotice('System preference: Dark mode');
          } else {
            document.body.classList.remove('dark-mode');
            showNotice('System preference: Light mode');
          }
        }
      });
    }

    // Show theme change notice
    function showNotice(message) {
      themeNotice.textContent = message;
      themeNotice.classList.add('show');
      
      setTimeout(() => {
        themeNotice.classList.remove('show');
      }, 3000);
    }

    // Toggle dark mode
    darkModeToggle.addEventListener('click', () => {
      manualOverride = true;
      
      if (document.body.classList.contains('dark-mode')) {
        document.body.classList.remove('dark-mode');
        localStorage.setItem('theme', 'light');
        showNotice('Light mode enabled');
      } else {
        document.body.classList.add('dark-mode');
        localStorage.setItem('theme', 'dark');
        showNotice('Dark mode enabled');
      }
    });

    // Initialize theme on page load
    document.addEventListener('DOMContentLoaded', initTheme);

    // ... rest of your JavaScript ...
  </script>
</body>
</html>